# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ MerchCRM

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ** –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

> **–í–ê–ñ–ù–û**: –û–±—â–µ–Ω–∏–µ –ò–ò (Antigravity) —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–¥—É –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ–ª–∂–Ω—ã –≤—Å–µ–≥–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è –Ω–∞ **—Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**.

> üìê **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã** (spacing, radius, —Ü–≤–µ—Ç–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å) –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç: [`.agent/UX_STANDARDS.md`](.agent/UX_STANDARDS.md). AI –æ–±—è–∑–∞–Ω —Å–≤–µ—Ä—è—Ç—å—Å—è —Å –Ω–∏–º –ø—Ä–∏ –ª—é–±–æ–π —Ä–∞–±–æ—Ç–µ —Å UI.

---

## 1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–ù–∏–∫–∞–∫–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `alert()`, `confirm()` –∏–ª–∏ `prompt()`.
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Toasts)**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö—É–∫ `useToast` –∏–∑ `@/components/ui/toast`.
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Notifications)**:
  - –î–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –±–∏–∑–Ω–µ—Å–∞ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫, –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sendStaffNotifications` –∏–∑ `@/lib/notifications`.
  - –≠—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –∏ –≤–∏–¥–Ω—ã –ø–µ—Ä—Å–æ–Ω–∞–ª—É –≤ –ø–∞–Ω–µ–ª–∏.
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π**: –í–º–µ—Å—Ç–æ `confirm()` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ConfirmDialog` –∏–∑ `@/components/ui/confirm-dialog` –∏–ª–∏ `ResponsiveModal`.

## 2. –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (–ë–î –∏ Drizzle ORM)
- **Server Actions**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (INSERT, UPDATE, DELETE) –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Server Actions –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö `actions.ts`.
- **ORM**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã `db.query` –¥–ª—è —á—Ç–µ–Ω–∏—è (Type-safe) –∏ –±–∏–ª–¥–µ—Ä—ã –¥–ª—è –∑–∞–ø–∏—Å–∏.
- **–ó–∞–ø—Ä–µ—Ç SQL**: –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä—è–º—ã—Ö `sql` –∑–∞–ø—Ä–æ—Å–æ–≤, –µ—Å–ª–∏ —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ ORM –º–µ—Ç–æ–¥—ã (`findMany`, `eq`).
- **–ò–Ω–¥–µ–∫—Å—ã (Indexes)**:
  - **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ `WHERE` (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫) –∏ `JOIN` (–≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏).
  - **Foreign Keys**: –í—Å–µ –ø–æ–ª—è `xxx_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `roleId`, `orderId`) –û–ë–Ø–ó–ê–ù–´ –∏–º–µ—Ç—å –∏–Ω–¥–µ–∫—Å.
  - **–°—Ç–∞—Ç—É—Å—ã –∏ –î–∞—Ç—ã**: –ü–æ–ª—è `status`, `isArchived`, `createdAt` —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Äî –∏–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ –∏—Ö.
  - **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω `tableName_columnName_idx`.
    ```typescript
    (table) => ({
        userIdx: index("users_role_idx").on(table.roleId),
        createdIdx: index("users_created_idx").on(table.createdAt),
    })
    ```
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `zod` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –≤–∞–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫) –¥–æ–ª–∂–Ω—ã –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `audit_logs` —á–µ—Ä–µ–∑ `db.insert(auditLogs)`.

## 3. –Ø–∑—ã–∫ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –í–µ—Å—å —Ç–µ–∫—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ **—Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**.
- **–û–±—â–µ–Ω–∏–µ —Å –ò–ò**: –û—Ç–≤–µ—Ç—ã Antigravity, –ø–æ—è—Å–Ω–µ–Ω–∏—è –∫ –∫–æ–¥—É, –æ—Ç—á–µ—Ç—ã –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ **—Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**.

- **–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ –∏ —Å–∫–ª–æ–Ω–µ–Ω–∏—è (Pluralization)**: 
  - **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: –í–µ–∑–¥–µ, –≥–¥–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–≤–æ–¥—è—Ç—Å—è —á–∏—Å–ª–∞, —Å—á–µ—Ç—á–∏–∫–∏ –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "5 —Ç–æ–≤–∞—Ä–æ–≤", "–í—ã–±—Ä–∞–Ω–æ 3 —Ñ–∞–π–ª–∞"), **–°–¢–†–û–ì–û –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏—è.
  - **–ó–∞–ø—Ä–µ—â–µ–Ω–æ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–∏–¥–∞ "—Ñ–∞–π–ª(–æ–≤)", "—Ç–æ–≤–∞—Ä(—ã)" –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –Ω–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Å —á–∏—Å–ª–æ–º.
  - **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@/lib/pluralize`.
    - `pluralize(count, '—Ç–æ–≤–∞—Ä', '—Ç–æ–≤–∞—Ä–∞', '—Ç–æ–≤–∞—Ä–æ–≤')` ‚Äî –¥–ª—è —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö.
    - `sentence(...)` ‚Äî –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ñ—Ä–∞–∑ —Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ–º –≥–ª–∞–≥–æ–ª–æ–≤ ("–ù–∞–π–¥–µ–Ω–∞ 1 –∑–∞–ø–∏—Å—å" / "–ù–∞–π–¥–µ–Ω–æ 5 –∑–∞–ø–∏—Å–µ–π").
  - –ü—Ä–∏–º–µ—Ä:
    ```tsx
    import { pluralize, sentence } from "@/lib/pluralize";
    
    // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
    <span>{count} {pluralize(count, '–ø–æ–∑–∏—Ü–∏—è', '–ø–æ–∑–∏—Ü–∏–∏', '–ø–æ–∑–∏—Ü–∏–π')}</span>
    
    // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ä–æ–¥–∞ –∏ —á–∏—Å–ª–∞):
    <p>{sentence(count, 'f', { one: '–£–¥–∞–ª–µ–Ω–∞', many: '–£–¥–∞–ª–µ–Ω–æ' }, { one: '–∫–∞—Ç–µ–≥–æ—Ä–∏—è', few: '–∫–∞—Ç–µ–≥–æ—Ä–∏–∏', many: '–∫–∞—Ç–µ–≥–æ—Ä–∏–π' })}</p>
    ```

- **–î–∞—Ç—ã**: –î–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `@/lib/formatters` (–æ–±–µ—Ä—Ç–∫–∏ –Ω–∞–¥ `date-fns`).
  ```tsx
  import { formatDate, formatDateTime } from "@/lib/formatters";
  formatDate(date); // "dd.MM.yyyy"
  ```

## 4. –î–æ—Å—Ç—É–ø –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Auth)
- **–°–µ—Å—Å–∏–∏**: –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û `import { getSession } from "@/lib/auth"`. –ù–µ –ø–∞—Ä—Å–∏—Ç—å –∫—É–∫–∏ –≤—Ä—É—á–Ω—É—é.
- **API Routes**: –í—Å–µ API —Ä–æ—É—Ç—ã –æ–±—è–∑–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–µ—Å—Å–∏—é:
  ```ts
  const session = await getSession();
  if (!session) return new NextResponse("Unauthorized", { status: 401 });
  ```
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤**: –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–æ–ª—å) –∫–∞–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ (–¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ UI), —Ç–∞–∫ –∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ (–≤ Server Actions).
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –∏ –ª–æ–≥–∞–º.

## 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞**: –ü—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–∏–Ω–≥–∞, —Ç–∏–ø–æ–≤ (TypeScript) –∏–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –°–¢–†–û–ì–û –ó–ê–ü–†–ï–©–ï–ù–û –º–µ–Ω—è—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π –≤–∏–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –æ—Ç—Å—Ç—É–ø—ã –∏–ª–∏ –ª–æ–≥–∏–∫—É UI.
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ï—Å–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã), –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—É.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∞–≤–æ–∫ —Å–≤–µ—Ä—è–π—Ç–µ —Ç–µ–∫—É—â–∏–π –≤–∏–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

## 6. State Persistence
- –í—Å–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ç–∞–±—ã, –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –∏ –≤–∞–∂–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –î–û–õ–ñ–ù–´ –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å URL —á–µ—Ä–µ–∑ `useSearchParams` / `router.replace('?tab=...', { scroll: false })`.
- **–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–µ–≥–º–µ–Ω—Ç—ã –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `finance`, `promocodes`) –î–û–õ–ñ–ù–´ –±—ã—Ç—å –æ—Ç—Ä–∞–∂–µ–Ω—ã –≤ —Å–ª–æ–≤–∞—Ä–µ `routeLabels` –≤ `components/layout/breadcrumbs.tsx`.

## 7. TypeScript

- **–ó–∞–ø—Ä–µ—Ç `any`**: –°–¢–†–û–ì–û –ó–ê–ü–†–ï–©–ï–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø `any`. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `unknown` —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π.
- **–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è—Ö —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º `// eslint-disable-next-line @typescript-eslint/no-explicit-any` –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã.

```tsx
// ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ
const data: any = response;
function process(item: any) {}

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const data: User = response;
function process(item: unknown) {
  if (isUser(item)) { ... }
}

// ‚úÖ –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ ‚Äî generic
function process<T>(item: T): T { ... }
```

## 8. –¢–∏–ø—ã

- –í—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `@/lib/types`
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è Order, Client, Product, User
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∏–ø ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `lib/types/`, –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π

## 9. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Technical Essentials)

**–ü—É—Ç—å**: `@/components/ui/` –∏ `@/components/layout/`

AI –æ–±—è–∑–∞–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–æ–¥–∞:

| –ó–∞–¥–∞—á–∞ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—É—Ç—å |
|--------|-----------|------|
| –î–∞—Ç–∞-—Ç–∞–±–ª–∏—Ü—ã | `DataTable` | `@/components/ui/data-table` |
| –°–∫–µ–ª–µ—Ç–æ–Ω—ã | `Skeleton*` | `@/components/ui/skeleton` |
| –°–ø–∏–Ω–Ω–µ—Ä—ã | `Spinner*` | `@/components/ui/spinner` |
| –ü—Ä–æ–≥—Ä–µ—Å—Å | `Progress*` | `@/components/ui/progress` |
| –¢—É–ª—Ç–∏–ø—ã | `Tooltip*` | `@/components/ui/tooltip` |
| –°–ª–∞–π–¥–µ—Ä—ã | `Slider*` | `@/components/ui/slider` |
| –†–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏ | `Radio*` | `@/components/ui/radio-group` |
| –í—ã–±–æ—Ä –¥–∞—Ç | `DateRangePicker` | `@/components/ui/date-range-picker` |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ | `FileUpload` | `@/components/ui/file-upload` |
| –ê–∫–∫–æ—Ä–¥–µ–æ–Ω—ã | `Accordion*` | `@/components/ui/accordion` |
| –°–∫—Ä–æ–ª–ª–±–∞—Ä—ã | `ScrollArea*` | `@/components/ui/scroll-area` |
| –£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ | `TimeTracker` | `@/components/ui/time-tracker` |
| –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ | `StatusTimeline` | `@/components/ui/status-timeline` |
| –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ | `DeliveryTracker` | `@/components/ui/delivery-tracker` |
| –ö–∞–ª—å–∫—É–ª—è—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ | `PriceBreakdown` | `@/components/ui/price-breakdown` |
| –ö–∞—Ä—Ç–æ—á–∫–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ | `OrderQueueCard` | `@/components/ui/order-queue-card` |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | `useToast` | `@/components/ui/toast` |
| –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | `ConfirmDialog` | `@/components/ui/confirm-dialog` |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | `zod` | ‚Äî |
| –°–∫–ª–æ–Ω–µ–Ω–∏—è | `pluralize`, `sentence` | `@/lib/pluralize` |
| –î–∞—Ç—ã | `formatDate` | `@/lib/formatters` |

> **–ü—Ä–∞–≤–∏–ª–æ**: –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ—Ç –ª–∏ –≥–æ—Ç–æ–≤–æ–≥–æ –≤ `/components`.

## 10. –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞ (–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)

- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ WebP**: –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ **–ª—é–±–æ–≥–æ** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç `.webp` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `compressImage` –∏–∑ `@/lib/image-processing`. –ù–µ –ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ Canvas-—Å–∫—Ä–∏–ø—Ç—ã.
  ```tsx
  import { compressImage } from "@/lib/image-processing";
  const { file, preview } = await compressImage(originalFile, { type: "image/webp" });
  ```

## 11. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (Utils)

–ó–∞–ø—Ä–µ—â–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

| –§—É–Ω–∫—Ü–∏—è | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------|----------|
| `cn` | `@/lib/utils` | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ (Tailwind merge) |
| `formatCurrency` | `@/lib/formatters` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç (1 200 ‚ÇΩ) |
| `formatDate` | `@/lib/formatters` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç (DD.MM.YYYY) |
| `formatUnit` | `@/lib/utils` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –µ–¥. –∏–∑–º. (—à—Ç., –∫–≥) |
| `slugify` | `@/lib/utils` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è slug –∏–∑ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã |
| `escapeHtml` | `@/lib/utils` | –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ç–µ–≥–æ–≤ |
| `getSession` | `@/lib/auth` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `sendStaffNotifications` | `@/lib/notifications` | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |

## 12. Server Actions –∏ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

### 12.1 –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

- **–§–∞–π–ª—ã —Å Server Actions** –û–ë–Ø–ó–ê–ù–´ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—É –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ:
```tsx
"use server"
```
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (–æ—Å–æ–±–µ–Ω–Ω–æ —Å —Ö—É–∫–∞–º–∏ `useState`, `useEffect`) –û–ë–Ø–ó–ê–ù–´ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—É:
```tsx
"use client"
```

### 12.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Server Actions (Reference)

–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `actions.ts`:
```tsx
"use server"

import { getSession } from "@/lib/auth"
import { db } from "@/lib/db"
import { revalidatePath } from "next/cache"
import { z } from "zod"

const schema = z.object({
  name: z.string().min(1),
})

export async function createItem(formData: FormData) {
  const session = await getSession()
  if (!session) throw new Error("Unauthorized")
  
  const validated = schema.parse(Object.fromEntries(formData))
  
  // –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  // ...
  
  revalidatePath("/dashboard/items")
  return { success: true }
}
```

### 12.3 –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ Server Actions

- **‚ùå –ó–ê–ü–†–ï–©–ï–ù–û: –•–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–æ–≤**
  ```tsx
  const password = "admin123";
  ```
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
  ```tsx
  const password = process.env.ADMIN_PASSWORD;
  ```
- **‚ùå –ó–ê–ü–†–ï–©–ï–ù–û: –í–æ–∑–≤—Ä–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—É**
  ```tsx
  return { user, passwordHash };
  ```
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
  ```tsx
  return { user: { id: user.id, name: user.name } };
  ```

## 13. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –í–∞–ª–∏–¥–∞—Ü–∏—è

### 13.1 –ó–∞–ø—Ä–µ—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Å—Ç—Ä–æ–∫

- **‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–Ø–ó–í–ò–ú–û–°–¢–¨: SQL-–∏–Ω—ä–µ–∫—Ü–∏—è**
  ```ts
  const result = await db.execute(`SELECT * FROM users WHERE id = '${userId}'`) // ‚ùå
  ```

- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Drizzle ORM –º–µ—Ç–æ–¥—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)**
  ```ts
  const result = await db.select().from(users).where(eq(users.id, userId))
  ```

- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
  ```ts
  import { sql } from "drizzle-orm"
  const result = await db.execute(sql`SELECT * FROM users WHERE id = ${userId}`)
  ```

- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Prepared statements**
  ```ts
  const prepared = db.select().from(users).where(eq(users.id, sql.placeholder('id'))).prepare()
  const result = await prepared.execute({ id: userId })
  ```

### 13.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –û–ë–Ø–ó–ê–ù–´ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é.

```ts
import { z } from "zod"

const searchSchema = z.object({
  query: z.string().max(100).regex(/^[a-zA-Z–∞-—è–ê-–Ø0-9\s]+$/),
  page: z.coerce.number().int().positive().default(1),
  limit: z.coerce.number().int().min(1).max(100).default(20),
})

export async function searchItems(params: unknown) {
  const { query, page, limit } = searchSchema.parse(params) // ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è
  // –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
}
```

## 14. React Hooks ‚Äî –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 14.1 –£—Å–ª–æ–≤–∏—è –∏ —Ö—É–∫–∏

–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ —É—Å–ª–æ–≤–∏–π, —Ü–∏–∫–ª–æ–≤ –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

- **‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:**
  ```tsx
  if (isOpen) {
    useEffect(() => { ... }, []) // üö´ –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª React
  }
  ```

- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
  ```tsx
  useEffect(() => {
    if (!isOpen) return // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞
    // –ª–æ–≥–∏–∫–∞
  }, [isOpen])
  ```
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (Early Return):**
  ```tsx
  function Component({ enabled }: { enabled: boolean }) {
    const [state, setState] = useState(false)
    if (!enabled) return null // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ö—É–∫–æ–≤
    // ...
  }
  ```

### 14.2 –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ useEffect

- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AbortController**
  ```tsx
  useEffect(() => {
    const controller = new AbortController()
    
    fetch(url, { signal: controller.signal })
      // ...
      .catch(err => {
        if (err.name !== 'AbortError') setError(err)
      })
    
    return () => controller.abort() // –û—á–∏—Å—Ç–∫–∞
  }, [url])
  ```

### 14.3 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useEffect

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞, –î–û–õ–ñ–ù–´ –±—ã—Ç—å –≤ –º–∞—Å—Å–∏–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

- **‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
  ```tsx
  useEffect(() => {
    fetchData(userId) // userId –Ω–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
  }, [])
  ```

- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
  ```tsx
  useEffect(() => {
    fetchData(userId)
  }, [userId])
  ```

## 15. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### 15.1 –ó–∞–ø—Ä–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTML-—ç–ª–µ–º–µ–Ω—Ç—ã –≤–≤–æ–¥–∞, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –ª–æ–º–∞—é—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å.
- **‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:**
  ```tsx
  <select>...</select>
  <input type="checkbox" />
  <input type="radio" />
  ```
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**
  ```tsx
  import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"
  import { Checkbox } from "@/components/ui/checkbox"
  import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group"
  ```

### 15.2 –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:** –¢–µ–≥ `<img>` (–Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏).
  ```tsx
  <img src={url} alt="..." />
  ```
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Next.js Image**
  ```tsx
  import Image from "next/image"

  // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
  <Image src={url} alt="..." width={200} height={150} />

  // –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  <div className="relative aspect-video">
    <Image src={url} alt="..." fill className="object-cover" />
  </div>

  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (LCP)
  <Image src={url} alt="..." priority />
  ```

### 15.3 –ò–º–ø–æ—Ä—Ç Radix UI
–ù–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Radix Primitives –Ω–∞–ø—Ä—è–º—É—é, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—à–∏ styled-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- **‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:**
  ```tsx
  import * as Dialog from "@radix-ui/react-dialog"
  ```
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
  ```tsx
  import { Dialog, DialogContent, DialogTrigger } from "@/components/ui/dialog"
  ```

## 16. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (React Performance)

### 16.1 –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```tsx
import { memo, useMemo, useCallback } from "react"

// ‚úÖ memo –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–æ–≤ (–µ—Å–ª–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
const ListItem = memo(function ListItem({ item }: Props) {
  return <div>{item.name}</div>
})
```

### 16.2 useMemo –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
```tsx
// ‚úÖ useMemo –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤)
const sortedItems = useMemo(
  () => items.sort((a, b) => a.name.localeCompare(b.name)),
  [items]
)
```

### 16.3 useCallback –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
```tsx
// ‚úÖ useCallback –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –≤ –¥–æ—á–µ—Ä–Ω–∏–µ memo-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
const handleClick = useCallback((id: string) => {
  // ...
}, [dependency]) // –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏!
```

## 17. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Error Handling)

### 17.1 –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏ (logError)
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö (Server Actions, API) **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `logError`.
```tsx
import { logError } from "@/lib/error-logger";

try {
  // –ª–æ–≥–∏–∫–∞
} catch (error) {
  await logError({
    error,
    severity: "critical", // info | warning | error | critical
    path: "/dashboard/orders",
    method: "createOrder",
    details: { clientId, amount }
  });
  return { success: false, error: "–ü—Ä–æ–∏–∑–æ—à–ª–∞ —Å–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞" };
}
```

### 17.2 ActionResult Pattern
–í—Å–µ Server Actions –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `ActionResult`.
```tsx
export type ActionResult<T = void> = 
  | { success: true; data: T } 
  | { success: false; error: string };
```

## 18. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î (Advanced DB)

### 18.1 –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Transactions)
–õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—â–µ–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ + —Å–ø–∏—Å–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞), **–î–û–õ–ñ–ù–û** –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
```tsx
await db.transaction(async (tx) => {
  await tx.insert(orders).values(...);
  await tx.update(inventoryItems).set(...);
});
```

### 18.2 –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Counters)
–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤ (–æ—Å—Ç–∞—Ç–∫–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL-–≤—ã—Ä–∞–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å race conditions.
- **‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:** `quantity: item.quantity - 1` (—É–º–Ω–æ–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JS).
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:** 
```tsx
await tx.update(inventoryItems)
  .set({ quantity: sql`${inventoryItems.quantity} - 1` })
  .where(eq(inventoryItems.id, id));
```
