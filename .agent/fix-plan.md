# üõ†Ô∏è –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π ‚Äî –ê—É–¥–∏—Ç 20.02.2026

**–û—Ü–µ–Ω–∫–∞:** A (98/100) ¬∑ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö: 0 ¬∑ –û—à–∏–±–æ–∫: 0 ¬∑ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: 14

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 ‚Äî –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–µ–π—á–∞—Å (—Ä–µ–∞–ª—å–Ω—ã–µ –±–∞–≥–∏ / —Ä–∏—Å–∫–∏)

### 1.1 –ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (3 —Ñ–∞–π–ª–∞)
> –ù–µ—Å–∫–æ–ª—å–∫–æ –º—É—Ç–∞—Ü–∏–π –≤ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ `db.transaction()` ‚Üí —Ä–∏—Å–∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ—à–∏–±–∫–µ

| –§–∞–π–ª | –ü—Ä–æ–±–ª–µ–º–∞ |
|------|---------|
| `app/(main)/admin-panel/actions/branding.actions.ts` | –ù–µ—Å–∫–æ–ª—å–∫–æ –º—É—Ç–∞—Ü–∏–π –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| `app/(main)/admin-panel/actions/system.actions.ts` | –ù–µ—Å–∫–æ–ª—å–∫–æ –º—É—Ç–∞—Ü–∏–π –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| `app/(main)/admin-panel/actions/users.actions.ts` | –ù–µ—Å–∫–æ–ª—å–∫–æ –º—É—Ç–∞—Ü–∏–π –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |

**–î–µ–π—Å—Ç–≤–∏–µ:** –û–±–µ—Ä–Ω—É—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ `db.insert/update/delete` –≤ `await db.transaction(async (tx) => { ... })`.

---

### 1.2 –ó–∞–ø—Ä–æ—Å—ã `findMany` –±–µ–∑ `limit` (3 –º–µ—Å—Ç–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)
> `findMany` –±–µ–∑ –ª–∏–º–∏—Ç–∞ ‚Üí –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ |
|------|--------|
| `app/(main)/admin-panel/actions/users.actions.ts` | L204, L350, L476 |

**–î–µ–π—Å—Ç–≤–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å `.limit(100)` –∏–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é —Ç—É–¥–∞, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã,  
–ª–∏–±–æ —è–≤–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π `// audit-ignore` –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –≤—Å–µ –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫—Å–ø–æ—Ä—Ç).

---

### 1.3 –§–æ—Ä–º–∞ –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
| –§–∞–π–ª | –ü—Ä–æ–±–ª–µ–º–∞ |
|------|---------|
| `app/(main)/admin-panel/branding/branding-form.tsx` | –§–æ—Ä–º–∞ –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–µ—Ç zod/react-hook-form) |

**–î–µ–π—Å—Ç–≤–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å zod-—Å—Ö–µ–º—É –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `react-hook-form` + `zodResolver`.

---

### 1.4 –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ‚Äî –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ `<div>` (a11y)
| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|------|--------|
| `components/ui/price-breakdown.tsx` | L226 |
| `components/ui/stat-card.tsx` | L57 |

**–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å `<div onClick={...}>` –Ω–∞ `<button type="button">` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å `role="button" tabIndex={0} onKeyDown`.

---

### 1.5 –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å User (—Ç–∏–ø–∏–∑–∞—Ü–∏—è)
| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|------|--------|
| `app/(main)/admin-panel/users/hooks/use-edit-user.ts` | L4 |

**–î–µ–π—Å—Ç–≤–∏–µ:** –£–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π `interface User { ... }`, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `@/lib/types`.

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ (—Å–¥–µ–ª–∞—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ)

### 2.1 –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è `format()` –±–µ–∑ `locale` (5 –º–µ—Å—Ç)
> –î–∞—Ç—ã –±–µ–∑ locale –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ en-US —Ñ–æ—Ä–º–∞—Ç–µ

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|------|--------|
| `item-analytics-chart.tsx` | L359 |
| `stock-timeline.tsx` | L88, L127 |
| `components/ui/price-breakdown.tsx` | L28 |
| `components/ui/slider.tsx` | L173 |

**–î–µ–π—Å—Ç–≤–∏–µ:**
```ts
import { ru } from 'date-fns/locale'
format(date, 'dd MMM yyyy', { locale: ru })
```

---

### 2.2 –ì–ª—É–±–æ–∫–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã (7 –º–µ—Å—Ç)
> –í—Å–µ –≤ `warehouse/items/[id]/hooks/` –∏ `utils/`

**–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å `../../components/...` –Ω–∞ –∞–ª–∏–∞—Å—ã `@/app/(main)/dashboard/warehouse/...`.  
–õ–∏–±–æ —Å–æ–∑–¥–∞—Ç—å barrel-—Ñ–∞–π–ª `index.ts` –≤ –ø–∞–ø–∫–µ `[id]/`.

---

### 2.3 –ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è
| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|------|--------|
| `components/ui/price-breakdown.tsx` | L484 |

**–î–µ–π—Å—Ç–≤–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é plural/—Å–∫–ª–æ–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Intl.PluralRules` –∏–ª–∏ —É—Ç–∏–ª–∏—Ç—É –∏–∑ `lib/`).

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 ‚Äî –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### 3.1 –ë–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–º–Ω–æ–≥–æ `useState` / `props`)

| –§–∞–π–ª | –ü—Ä–æ–±–ª–µ–º–∞ |
|------|---------|
| `warehouse/layout.tsx` | 10 useState (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ) |
| `ItemMediaSection.tsx` | 9 useState (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ) |
| `date-range-picker.tsx` | 9 useState (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ) |
| `scroll-area.tsx` | 8 useState (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ) |
| `archive-table.tsx` | 8 useState (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ) |
| `new-item-page-client.tsx` | 8 useState |
| `system-stats.tsx` | 6 useEffect |
| `branding-form.tsx` | 20 –ø—Ä–æ–ø—Å–æ–≤ |
| `edit-client-dialog.tsx` | 16 –ø—Ä–æ–ø—Å–æ–≤ |
| `ItemGeneralInfo.tsx` | 16 –ø—Ä–æ–ø—Å–æ–≤ |
| `select.tsx` | 17 –ø—Ä–æ–ø—Å–æ–≤ |

**–î–µ–π—Å—Ç–≤–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ `useState` –≤ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏ (`useArchiveTable`, `useDateRangePicker`).  
–°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–ø—Å—ã –≤ –æ–±—ä–µ–∫—Ç—ã (`config: ConfigType`).

---

### 3.2 –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (info, –Ω–µ —Å—Ä–æ—á–Ω–æ)

–°–∞–º—ã–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É:
| –§–∞–π–ª | –°—Ç—Ä–æ–∫ |
|------|-------|
| `lib/schema.ts` | –†–∞–∑–±–∏—Ç–æ –Ω–∞ –¥–æ–º–µ–Ω—ã –≤ `lib/schema/` |
| `item-detail-client.tsx` | 938 |
| `s3-storage-manager.tsx` | 882 (+ 52.8 KB –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ) |
| `history-table.tsx` | 849 |

**–î–µ–π—Å—Ç–≤–∏–µ:** –†–∞–∑–±–∏—Ç—å `drizzle/schema.ts` –ø–æ –¥–æ–º–µ–Ω–∞–º (`schema/orders.ts`, `schema/warehouse.ts` –∏ —Ç.–¥.).  
–†–∞–∑–±–∏—Ç—å `item-detail-client.tsx` –Ω–∞ –≤–∫–ª–∞–¥–∫–∏/—Å–µ–∫—Ü–∏–∏.

---

### 3.3 –î—É–±–ª–∏–∫–∞—Ç—ã –∫–æ–¥–∞ (25 –º–µ—Å—Ç)
> –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –æ—Ç 3 –¥–æ 16 —Ä–∞–∑

–ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ:
- `add-role-dialog.tsx:L127` ‚Äî –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è **16 —Ä–∞–∑** (–≤–µ—Ä–æ—è—Ç–Ω–æ, —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π)
- `add-role-dialog.tsx:L133` ‚Äî 4 —Ä–∞–∑–∞
- `new/page-client.tsx:L257` ‚Äî 6 —Ä–∞–∑ (—Ñ–æ—Ä–º–∞ –∫–ª–∏–µ–Ω—Ç–∞)
- `s3-storage-manager.tsx:L299` ‚Äî 6 —Ä–∞–∑

**–î–µ–π—Å—Ç–≤–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –±–ª–æ–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–ª–∏ —É—Ç–∏–ª–∏—Ç—ã.

---

### 3.4 –¢–µ—Å—Ç—ã (66 —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è ‚Äî info)
> –í—Å–µ `actions.ts` –∏ `hooks` –Ω–µ –∏–º–µ—é—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–∫—Ä—ã–≤–∞—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –ø–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.  
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: `orders/actions/core.actions.ts`, `clients/actions/core.actions.ts`, `warehouse/item-actions.ts`.

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∏—Å–ø—Ä–∞–≤–∏—Ç—å ASAP)
- [x] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: `branding.actions.ts`
- [x] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: `system.actions.ts`
- [x] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + limit: `users.actions.ts` (L204, L350, L476)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã: `branding-form.tsx`
- [x] a11y `<div>` ‚Üí `<button>`: `price-breakdown.tsx:L226`
- [x] a11y `<div>` ‚Üí `<button>`: `stat-card.tsx:L57`
- [x] –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å User: `use-edit-user.ts:L4`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (—ç—Ç–∞ –Ω–µ–¥–µ–ª—è)
- [x] locale –≤ format(): 5 —Ñ–∞–π–ª–æ–≤
- [x] –ì–ª—É–±–æ–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã ‚Üí `@/` –∞–ª–∏–∞—Å—ã: `warehouse/items/[id]/hooks/`
- [x] –ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è: `price-breakdown.tsx:L484`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (—Å–ª–µ–¥—É—é—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è)
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å 8+ useState
- [x] –†–∞–∑–±–∏–≤–∫–∞ `lib/schema.ts` –ø–æ –¥–æ–º–µ–Ω–∞–º
- [ ] –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
