
> merch-crm@0.1.0 dev
> next dev

▲ Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://192.168.1.47:3000
- Environments: .env.local, .env
- Experiments (use with caution):
  · serverActions

✓ Starting...
⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
✓ Ready in 1127ms
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
 HEAD /login 200 in 2.5s (compile: 1415ms, proxy.ts: 62ms, render: 1010ms)
Query: select "clients"."id", "clients"."client_type", "clients"."last_name", "clients"."first_name", "clients"."patronymic", "clients"."name", "clients"."company", "clients"."phone", "clients"."telegram", "clients"."instagram", "clients"."email", "clients"."city", "clients"."address", "clients"."comments", "clients"."social_link", "clients"."acquisition_source", "clients"."manager_id", "clients"."is_archived", "clients"."created_at", "clients"."updated_at", "clients_manager"."data" as "manager" from "clients" "clients" left join lateral (select json_build_array("clients_manager"."name") as "data" from (select * from "users" "clients_manager" where "clients_manager"."id" = "clients"."manager_id" limit $1) "clients_manager") "clients_manager" on true where "clients"."id" = $2 limit $3 -- params: [1, "8381d175-cf59-43e7-bfa4-9dcec0beff13", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "id", "client_id", "status", "total_amount", "paid_amount", "payment_status", "delivery_status", "shipping_address", "delivery_method", "delivery_tracking_number", "estimated_delivery_date", "actual_delivery_date", "comments", "manager_id", "created_by", "source", "deadline", "priority", "discount_amount", "promocode_id", "external_order_number", "order_number", "is_urgent", "cancel_reason", "category", "is_archived", "archived_at", "archived_by", "created_at", "updated_at" from "orders" "orders" where "orders"."client_id" = $1 order by "orders"."created_at" desc limit $2 -- params: ["8381d175-cf59-43e7-bfa4-9dcec0beff13", 100]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["224a7641-2940-4ba0-91fe-e07cf7cec6e1", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["224a7641-2940-4ba0-91fe-e07cf7cec6e1", false]
 POST /dashboard/clients/8381d175-cf59-43e7-bfa4-9dcec0beff13 200 in 79ms (compile: 6ms, proxy.ts: 3ms, render: 70ms)
Query: select count(*), coalesce(sum("total_amount"), 0) from "orders" where "orders"."client_id" = $1 limit $2 -- params: ["8381d175-cf59-43e7-bfa4-9dcec0beff13", 1]
Query: select coalesce(sum("payments"."amount"), 0) from "payments" left join "orders" on "payments"."order_id" = "orders"."id" where "orders"."client_id" = $1 limit $2 -- params: ["8381d175-cf59-43e7-bfa4-9dcec0beff13", 1]
Query: select "auditLogs"."id", "auditLogs"."user_id", "auditLogs"."action", "auditLogs"."action_category", "auditLogs"."entity_type", "auditLogs"."entity_id", "auditLogs"."details", "auditLogs"."created_at", "auditLogs_user"."data" as "user" from "audit_logs" "auditLogs" left join lateral (select json_build_array("auditLogs_user"."name") as "data" from (select * from "users" "auditLogs_user" where "auditLogs_user"."id" = "auditLogs"."user_id" limit $1) "auditLogs_user") "auditLogs_user" on true where ("auditLogs"."entity_id" = $2 and "auditLogs"."entity_type" = $3) order by "auditLogs"."created_at" desc limit $4 -- params: [1, "8381d175-cf59-43e7-bfa4-9dcec0beff13", "client", 20]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
 GET /dashboard/clients/8381d175-cf59-43e7-bfa4-9dcec0beff13 200 in 3.1s (compile: 1157ms, proxy.ts: 11ms, render: 1942ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:22.574Z", "224a7641-2940-4ba0-91fe-e07cf7cec6e1"]
 POST /dashboard/clients/8381d175-cf59-43e7-bfa4-9dcec0beff13 200 in 175ms (compile: 21ms, proxy.ts: 19ms, render: 135ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:22.734Z", "224a7641-2940-4ba0-91fe-e07cf7cec6e1"]
 POST /dashboard/clients/8381d175-cf59-43e7-bfa4-9dcec0beff13 200 in 142ms (compile: 4ms, proxy.ts: 1965µs, render: 137ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
 GET /login 200 in 356ms (compile: 229ms, proxy.ts: 5ms, render: 122ms)
 GET /login 200 in 81ms (compile: 6ms, proxy.ts: 4ms, render: 71ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
 GET /login 200 in 105ms (compile: 10ms, proxy.ts: 12ms, render: 83ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /login 200 in 83ms (compile: 7ms, proxy.ts: 4ms, render: 72ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /login 200 in 75ms (compile: 4ms, proxy.ts: 4ms, render: 67ms)
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."email" = $3 limit $4 -- params: [1, 1, "admin@test.com", 1]
Query: insert into "security_events" ("id", "user_id", "event_type", "severity", "ip_address", "user_agent", "entity_type", "entity_id", "details", "created_at") values (default, $1, $2, $3, $4, $5, $6, $7, $8, default) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", "login_success", "info", "::1", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/145.0.7632.6 Safari/537.36", "auth", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", "{\"email\":\"admin@test.com\",\"name\":\"Test Admin\",\"role\":\"Администратор\"}"]
[Security Event] login_success - User: 5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e - Severity: info
 POST /api/auth/login 200 in 1085ms (compile: 726ms, proxy.ts: 3ms, render: 356ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
 POST /dashboard 200 in 111ms (compile: 12ms, proxy.ts: 19ms, render: 80ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 GET /dashboard 200 in 837ms (compile: 28ms, proxy.ts: 5ms, render: 804ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:30.744Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /dashboard 200 in 102ms (compile: 3ms, proxy.ts: 2ms, render: 97ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select count(*) from "orders" left join "clients" on "orders"."client_id" = "clients"."id" where "orders"."is_archived" = $1 limit $2 -- params: [false, 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "orders"."id", "orders"."client_id", "orders"."status", "orders"."total_amount", "orders"."paid_amount", "orders"."payment_status", "orders"."delivery_status", "orders"."shipping_address", "orders"."delivery_method", "orders"."delivery_tracking_number", "orders"."estimated_delivery_date", "orders"."actual_delivery_date", "orders"."comments", "orders"."manager_id", "orders"."created_by", "orders"."source", "orders"."deadline", "orders"."priority", "orders"."discount_amount", "orders"."promocode_id", "orders"."external_order_number", "orders"."order_number", "orders"."is_urgent", "orders"."cancel_reason", "orders"."category", "orders"."is_archived", "orders"."archived_at", "orders"."archived_by", "orders"."created_at", "orders"."updated_at", "orders_client"."data" as "client", "orders_items"."data" as "items", "orders_creator"."data" as "creator", "orders_attachments"."data" as "attachments" from "orders" "orders" left join lateral (select json_build_array("orders_client"."id", "orders_client"."client_type", "orders_client"."last_name", "orders_client"."first_name", "orders_client"."patronymic", "orders_client"."name", "orders_client"."company", "orders_client"."phone", "orders_client"."telegram", "orders_client"."instagram", "orders_client"."email", "orders_client"."city", "orders_client"."address", "orders_client"."comments", "orders_client"."social_link", "orders_client"."acquisition_source", "orders_client"."manager_id", "orders_client"."is_archived", "orders_client"."created_at", "orders_client"."updated_at") as "data" from (select * from "clients" "orders_client" where "orders_client"."id" = "orders"."client_id" limit $1) "orders_client") "orders_client" on true left join lateral (select coalesce(json_agg(json_build_array("orders_items"."id", "orders_items"."order_id", "orders_items"."inventory_id", "orders_items"."description", "orders_items"."quantity", "orders_items"."price", "orders_items"."item_details", "orders_items"."stage_prep_status", "orders_items"."stage_print_status", "orders_items"."stage_application_status", "orders_items"."stage_packaging_status", "orders_items"."created_at", "orders_items"."updated_at", "orders_items_inventory"."data")), '[]'::json) as "data" from "order_items" "orders_items" left join lateral (select json_build_array("orders_items_inventory"."id", "orders_items_inventory"."name", "orders_items_inventory"."sku", "orders_items_inventory"."category_id", "orders_items_inventory"."item_type", "orders_items_inventory"."quantity", "orders_items_inventory"."unit", "orders_items_inventory"."low_stock_threshold", "orders_items_inventory"."critical_stock_threshold", "orders_items_inventory"."description", "orders_items_inventory"."quality_code", "orders_items_inventory"."material_code", "orders_items_inventory"."brand_code", "orders_items_inventory"."attribute_code", "orders_items_inventory"."size_code", "orders_items_inventory"."image", "orders_items_inventory"."image_back", "orders_items_inventory"."image_side", "orders_items_inventory"."thumbnail_settings", "orders_items_inventory"."reserved_quantity", "orders_items_inventory"."cost_price", "orders_items_inventory"."selling_price", "orders_items_inventory"."is_archived", "orders_items_inventory"."archived_at", "orders_items_inventory"."archived_by", "orders_items_inventory"."archive_reason", "orders_items_inventory"."zero_stock_since", "orders_items_inventory"."created_at", "orders_items_inventory"."updated_at", "orders_items_inventory"."attributes", "orders_items_inventory"."image_details", "orders_items_inventory"."material_composition") as "data" from (select * from "inventory_items" "orders_items_inventory" where "orders_items_inventory"."id" = "orders_items"."inventory_id" limit $2) "orders_items_inventory") "orders_items_inventory" on true where "orders_items"."order_id" = "orders"."id") "orders_items" on true left join lateral (select json_build_array("orders_creator"."id", "orders_creator"."name", "orders_creator"."email", "orders_creator"."password_hash", "orders_creator"."role_id", "orders_creator"."phone", "orders_creator"."birthday", "orders_creator"."avatar", "orders_creator"."telegram", "orders_creator"."instagram", "orders_creator"."social_max", "orders_creator"."department_id", "orders_creator"."last_active_at", "orders_creator"."is_system", "orders_creator"."created_at", "orders_creator"."updated_at", "orders_creator_role"."data") as "data" from (select * from "users" "orders_creator" where "orders_creator"."id" = "orders"."created_by" limit $3) "orders_creator" left join lateral (select json_build_array("orders_creator_role"."id", "orders_creator_role"."name", "orders_creator_role"."is_system", "orders_creator_role"."department_id", "orders_creator_role"."color", "orders_creator_role"."created_at", "orders_creator_role"."updated_at", "orders_creator_role"."permissions") as "data" from (select * from "roles" "orders_creator_role" where "orders_creator_role"."id" = "orders_creator"."role_id" limit $4) "orders_creator_role") "orders_creator_role" on true) "orders_creator" on true left join lateral (select coalesce(json_agg(json_build_array("orders_attachments"."id", "orders_attachments"."order_id", "orders_attachments"."file_name", "orders_attachments"."file_key", "orders_attachments"."file_url", "orders_attachments"."file_size", "orders_attachments"."content_type", "orders_attachments"."created_by", "orders_attachments"."created_at", "orders_attachments"."updated_at")), '[]'::json) as "data" from "order_attachments" "orders_attachments" where "orders_attachments"."order_id" = "orders"."id") "orders_attachments" on true where "orders"."is_archived" = $5 order by "orders"."created_at" desc limit $6 -- params: [1, 1, 1, 1, false, 10]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."id" = $3 limit $4 -- params: [1, 1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select count(*), count(*) filter (where "status" = 'new'), count(*) filter (where "status" in ('design', 'production')), count(*) filter (where "status" in ('done', 'shipped')), coalesce(sum("total_amount"::numeric), 0) from "orders" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
 POST /dashboard 200 in 547ms (compile: 27ms, proxy.ts: 44ms, render: 476ms)
 GET /dashboard 200 in 1690ms (compile: 20ms, proxy.ts: 35ms, render: 1636ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:35.245Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 GET /dashboard/orders 200 in 1977ms (compile: 368ms, proxy.ts: 8ms, render: 1600ms)
 POST /dashboard/orders 200 in 213ms (compile: 60ms, proxy.ts: 57ms, render: 96ms)
 POST /dashboard 200 in 258ms (compile: 48ms, proxy.ts: 39ms, render: 171ms)
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:35.603Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
 POST /dashboard/orders 200 in 220ms (compile: 11ms, proxy.ts: 25ms, render: 184ms)
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /dashboard 200 in 515ms (compile: 15ms, proxy.ts: 16ms, render: 484ms)
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 5]
 POST /dashboard 200 in 314ms (compile: 8ms, proxy.ts: 11ms, render: 295ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:36.244Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /dashboard 200 in 130ms (compile: 5ms, proxy.ts: 6ms, render: 119ms)
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /dashboard 200 in 360ms (compile: 5ms, proxy.ts: 7ms, render: 348ms)
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 5]
 POST /dashboard 200 in 122ms (compile: 4ms, proxy.ts: 5ms, render: 113ms)
Query: select count(*) from "orders" limit $1 -- params: [1]
Query: select "id" from "notifications" "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["224a7641-2940-4ba0-91fe-e07cf7cec6e1", false]
 GET /api/orders/count 200 in 281ms (compile: 118ms, proxy.ts: 8ms, render: 155ms)
 GET /api/notifications/unread-count 200 in 328ms (compile: 165ms, proxy.ts: 9ms, render: 154ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
 POST /dashboard 200 in 91ms (compile: 6ms, proxy.ts: 7ms, render: 78ms)
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 GET /dashboard 200 in 830ms (compile: 17ms, proxy.ts: 11ms, render: 802ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:39.319Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /dashboard 200 in 188ms (compile: 34ms, proxy.ts: 10ms, render: 145ms)
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /dashboard 200 in 358ms (compile: 4ms, proxy.ts: 3ms, render: 352ms)
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 5]
 POST /dashboard 200 in 114ms (compile: 3ms, proxy.ts: 4ms, render: 107ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:39.912Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /dashboard 200 in 111ms (compile: 4ms, proxy.ts: 2ms, render: 105ms)
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /dashboard 200 in 359ms (compile: 3ms, proxy.ts: 3ms, render: 353ms)
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 5]
 POST /dashboard 200 in 106ms (compile: 1841µs, proxy.ts: 1845µs, render: 102ms)
 GET /api/orders/count 200 in 35ms (compile: 2ms, proxy.ts: 6ms, render: 27ms)
 GET /api/notifications/unread-count 200 in 37ms (compile: 10ms, proxy.ts: 4ms, render: 22ms)
 POST /dashboard 200 in 34ms (compile: 14ms, proxy.ts: 4ms, render: 16ms)
Query: select count(*) from "orders" limit $1 -- params: [1]
Query: select "id" from "notifications" "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."id" = $3 limit $4 -- params: [1, 1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."last_active_at" > $3 limit $4 -- params: [1, 1, "2026-02-21T00:06:52.214Z", 10]
Query: 
                SELECT EXTRACT(HOUR FROM "audit_logs"."created_at")::int as hour, 
                       "audit_logs"."entity_type" as type,
                       count(*)::int as count 
                FROM "audit_logs" 
                WHERE "audit_logs"."created_at" > $1
                GROUP BY 1, 2 ORDER BY 1, 2
             -- params: ["2026-02-20T00:11:52.214Z"]
Query: 
                SELECT "audit_logs"."entity_type" as type, count(*)::int as count 
                FROM "audit_logs" 
                WHERE "audit_logs"."created_at" > $1
                GROUP BY 1 ORDER BY 2 DESC
             -- params: ["2026-02-20T00:11:52.214Z"]
Query: SELECT pg_database_size(current_database()) as size
Query: select "id", "user_id", "event_type", "severity", "ip_address", "user_agent", "entity_type", "entity_id", "details", "created_at" from "security_events" "securityEvents" where ("securityEvents"."event_type" = $1 and "securityEvents"."created_at" >= $2) order by "securityEvents"."created_at" desc limit $3 -- params: ["login_failed", "2026-02-20T00:11:52.254Z", 20]
Query: select "auditLogs"."id", "auditLogs"."user_id", "auditLogs"."action", "auditLogs"."action_category", "auditLogs"."entity_type", "auditLogs"."entity_id", "auditLogs"."details", "auditLogs"."created_at", "auditLogs_user"."data" as "user" from "audit_logs" "auditLogs" left join lateral (select json_build_array("auditLogs_user"."id", "auditLogs_user"."name", "auditLogs_user"."email", "auditLogs_user"."password_hash", "auditLogs_user"."role_id", "auditLogs_user"."phone", "auditLogs_user"."birthday", "auditLogs_user"."avatar", "auditLogs_user"."telegram", "auditLogs_user"."instagram", "auditLogs_user"."social_max", "auditLogs_user"."department_id", "auditLogs_user"."last_active_at", "auditLogs_user"."is_system", "auditLogs_user"."created_at", "auditLogs_user"."updated_at") as "data" from (select * from "users" "auditLogs_user" where "auditLogs_user"."id" = "auditLogs"."user_id" limit $1) "auditLogs_user") "auditLogs_user" on true where ("auditLogs"."action" IN ('password_change', 'email_change', 'profile_update') and "auditLogs"."created_at" >= $2) order by "auditLogs"."created_at" desc limit $3 -- params: [1, "2026-02-20T00:11:52.254Z", 50]
Query: select "id", "user_id", "message", "stack", "path", "method", "ip_address", "user_agent", "severity", "details", "created_at" from "system_errors" "systemErrors" where "systemErrors"."created_at" >= $1 order by "systemErrors"."created_at" desc limit $2 -- params: ["2026-02-20T00:11:52.254Z", 100]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
Query: SELECT count(*)::int as count FROM users
Query: SELECT count(*)::int as count FROM roles
Query: SELECT count(*)::int as count FROM departments
Query: SELECT count(*)::int as count FROM clients
Query: SELECT count(*)::int as count FROM orders
Query: SELECT count(*)::int as count FROM audit_logs
Query: SELECT count(*)::int as count FROM inventory_items
Query: SELECT count(*)::int as count FROM tasks
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
Query: select "id" from "notifications" "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["224a7641-2940-4ba0-91fe-e07cf7cec6e1", false]
Query: select count(*) from "orders" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
 GET /api/orders/count 200 in 248ms (compile: 52ms, proxy.ts: 25ms, render: 170ms)
 GET /api/notifications/unread-count 200 in 256ms (compile: 43ms, proxy.ts: 16ms, render: 198ms)
 POST /admin-panel 200 in 109ms (compile: 14ms, proxy.ts: 11ms, render: 84ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 GET /admin-panel 200 in 1190ms (compile: 168ms, proxy.ts: 9ms, render: 1013ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:53.210Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /admin-panel 200 in 157ms (compile: 5ms, proxy.ts: 32ms, render: 120ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:53.339Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /admin-panel 200 in 125ms (compile: 5ms, proxy.ts: 4ms, render: 116ms)
 GET /api/orders/count 200 in 57ms (compile: 3ms, proxy.ts: 6ms, render: 48ms)
 GET /api/notifications/unread-count 200 in 58ms (compile: 15ms, proxy.ts: 5ms, render: 39ms)
 POST /dashboard 200 in 55ms (compile: 24ms, proxy.ts: 4ms, render: 27ms)
Query: select count(*) from "orders" limit $1 -- params: [1]
Query: select count(*) from "clients" limit $1 -- params: [1]
Query: select "id" from "notifications" "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select count(*) from "clients" where ("clients"."created_at" >= $1 and "clients"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select count(*) from "orders" where "orders"."status" in ($1, $2, $3) limit $4 -- params: ["new", "design", "production", 1]
Query: select sum("total_amount") from "orders" where ("orders"."created_at" >= $1 and "orders"."created_at" <= $2) limit $3 -- params: ["2026-01-31T21:00:00.000Z", "2026-02-28T20:59:59.999Z", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."id" = $3 limit $4 -- params: [1, 1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select count(*) from "users" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true order by "users"."name" asc limit $3 -- params: [1, 1, 10]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
 POST /admin-panel/users 200 in 122ms (compile: 3ms, proxy.ts: 7ms, render: 112ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
⨯ Error: Objects are not valid as a React child (found: object with keys {id, name, description, color, isActive, isSystem, updatedAt, createdAt}). If you meant to render a collection of children, use an array instead.
    at ignore-listed frames {
  digest: '14872703'
}
 GET /admin-panel/users 200 in 1028ms (compile: 55ms, proxy.ts: 59ms, render: 913ms)
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."id" = $3 limit $4 -- params: [1, 1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
 POST /admin-panel/roles 200 in 91ms (compile: 5ms, proxy.ts: 6ms, render: 80ms)
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
 GET /admin-panel/roles 200 in 783ms (compile: 144ms, proxy.ts: 9ms, render: 630ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:58.514Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /admin-panel/roles 200 in 113ms (compile: 4ms, proxy.ts: 1760µs, render: 108ms)
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "roles"."id", "roles"."name", "roles"."is_system", "roles"."department_id", "roles"."color", "roles"."created_at", "roles"."updated_at", "roles"."permissions", "roles_department"."data" as "department" from "roles" "roles" left join lateral (select json_build_array("roles_department"."id", "roles_department"."name", "roles_department"."description", "roles_department"."color", "roles_department"."is_active", "roles_department"."is_system", "roles_department"."updated_at", "roles_department"."created_at") as "data" from (select * from "departments" "roles_department" where "roles_department"."id" = "roles"."department_id" limit $1) "roles_department") "roles_department" on true order by "roles"."name" asc limit $2 -- params: [1, 500]
 POST /admin-panel/roles 200 in 165ms (compile: 2ms, proxy.ts: 2ms, render: 161ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:11:58.794Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /admin-panel/roles 200 in 109ms (compile: 2ms, proxy.ts: 3ms, render: 104ms)
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "roles"."id", "roles"."name", "roles"."is_system", "roles"."department_id", "roles"."color", "roles"."created_at", "roles"."updated_at", "roles"."permissions", "roles_department"."data" as "department" from "roles" "roles" left join lateral (select json_build_array("roles_department"."id", "roles_department"."name", "roles_department"."description", "roles_department"."color", "roles_department"."is_active", "roles_department"."is_system", "roles_department"."updated_at", "roles_department"."created_at") as "data" from (select * from "departments" "roles_department" where "roles_department"."id" = "roles"."department_id" limit $1) "roles_department") "roles_department" on true order by "roles"."name" asc limit $2 -- params: [1, 500]
 POST /admin-panel/roles 200 in 161ms (compile: 2ms, proxy.ts: 1699µs, render: 157ms)
Query: select count(*) from "orders" limit $1 -- params: [1]
Query: select "id" from "notifications" "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["224a7641-2940-4ba0-91fe-e07cf7cec6e1", false]
 GET /api/orders/count 200 in 184ms (compile: 7ms, proxy.ts: 8ms, render: 169ms)
 GET /api/notifications/unread-count 200 in 229ms (compile: 25ms, proxy.ts: 12ms, render: 192ms)
 GET /api/orders/count 200 in 113ms (compile: 85ms, proxy.ts: 2ms, render: 26ms)
 GET /api/notifications/unread-count 200 in 113ms (compile: 1769µs, proxy.ts: 2ms, render: 109ms)
Query: select "id" from "notifications" "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select count(*) from "orders" limit $1 -- params: [1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role", "users_department"."data" as "department" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true left join lateral (select json_build_array("users_department"."id", "users_department"."name", "users_department"."description", "users_department"."color", "users_department"."is_active", "users_department"."is_system", "users_department"."updated_at", "users_department"."created_at") as "data" from (select * from "departments" "users_department" where "users_department"."id" = "users"."department_id" limit $2) "users_department") "users_department" on true where "users"."id" = $3 limit $4 -- params: [1, 1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["last_notification_check", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" where "system_settings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
 POST /admin-panel/departments 200 in 105ms (compile: 2ms, proxy.ts: 3ms, render: 100ms)
Query: select "id", "user_id", "title", "message", "type", "priority", "is_read", "created_at", "updated_at" from "notifications" "notifications" where "notifications"."user_id" = $1 order by "notifications"."created_at" desc limit $2 -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 50]
Query: select count(*) from "notifications" where ("notifications"."user_id" = $1 and "notifications"."is_read" = $2) -- params: ["5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", false]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["branding", 1]
Query: select "key", "value", "updated_at", "created_at" from "system_settings" "systemSettings" where "systemSettings"."key" = $1 limit $2 -- params: ["maintenance_mode", 1]
 GET /admin-panel/departments 200 in 1171ms (compile: 258ms, proxy.ts: 3ms, render: 911ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:12:11.114Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /admin-panel/departments 200 in 176ms (compile: 29ms, proxy.ts: 12ms, render: 135ms)
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "id", "name", "description", "color", "is_active", "is_system", "updated_at", "created_at" from "departments" "departments" order by "departments"."name" asc limit $1 -- params: [500]
 POST /admin-panel/departments 200 in 172ms (compile: 4ms, proxy.ts: 3ms, render: 165ms)
Query: update "users" set "last_active_at" = $1 where "users"."id" = $2 -- params: ["2026-02-21T00:12:11.422Z", "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e"]
 POST /admin-panel/departments 200 in 128ms (compile: 6ms, proxy.ts: 4ms, render: 118ms)
Query: select "users"."id", "users"."name", "users"."email", "users"."password_hash", "users"."role_id", "users"."phone", "users"."birthday", "users"."avatar", "users"."telegram", "users"."instagram", "users"."social_max", "users"."department_id", "users"."last_active_at", "users"."is_system", "users"."created_at", "users"."updated_at", "users_role"."data" as "role" from "users" "users" left join lateral (select json_build_array("users_role"."id", "users_role"."name", "users_role"."is_system", "users_role"."department_id", "users_role"."color", "users_role"."created_at", "users_role"."updated_at", "users_role"."permissions") as "data" from (select * from "roles" "users_role" where "users_role"."id" = "users"."role_id" limit $1) "users_role") "users_role" on true where "users"."id" = $2 limit $3 -- params: [1, "5ce4c69d-7bdc-4b61-bb03-e94a5e459a4e", 1]
Query: select "id", "name", "description", "color", "is_active", "is_system", "updated_at", "created_at" from "departments" "departments" order by "departments"."name" asc limit $1 -- params: [500]
 POST /admin-panel/departments 200 in 181ms (compile: 5ms, proxy.ts: 4ms, render: 172ms)
