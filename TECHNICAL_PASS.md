# üìÑ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∞—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞ MerchCRM

> **–í–∞–∂–Ω–æ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –Ω–∞–¥–µ–∂–Ω–æ–º –º–µ—Å—Ç–µ. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º.

---

## üåç 1. –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏
*   **–°–∞–π—Ç:** [https://merch-crm.ru](https://merch-crm.ru)
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSL (Nginx):** [http://89.104.69.25:81](http://89.104.69.25:81)
    *   *–õ–æ–≥–∏–Ω:* `molchanov-le@mail.ru`
    *   *–ü–∞—Ä–æ–ª—å:* `admin123`

---

## üñ• 2. –°–µ—Ä–≤–µ—Ä (SSH)
*   **IP:** `89.104.69.25`
*   **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `root`
*   **–î–æ—Å—Ç—É–ø –¥–ª—è AI:** –ù–∞ –≤–∞—à–µ–º Mac –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–ª—é—á `~/.ssh/antigravity_key`.
*   **–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–≤—è–∑–∏:** `ssh -i ~/.ssh/antigravity_key root@89.104.69.25`

---

## üì¶ 3. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Docker)
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –≤ Docker. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
1.  `merch-crm` (Node.js/Next.js) ‚Äî –ø–æ—Ä—Ç 3000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
2.  `merch-crm-db` (PostgreSQL) ‚Äî –ø–æ—Ä—Ç 5432
3.  `nginx-proxy` (Nginx Proxy Manager) ‚Äî –ø–æ—Ä—Ç—ã 80, 81, 443

**–ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:** `/root/merch-crm`

---

## ‚òÅÔ∏è 4. –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Reg.ru S3)
*   **Endpoint:** `https://s3.regru.cloud`
*   **Bucket:** `merch-crm-storage`
*   **Region:** `ru-1`
*   **Access Key:** `S5GORAO0UWV81QDIOGMA`
*   **Secret Key:** `ZEFFxisDZZSojaasSmyLsnp9KhKCstviYeIZFEfh`

---

## üõ† 5. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)
*   **URL:** `postgresql://postgres:postgres@db:5432/merch_crm`
*   **User:** `postgres`
*   **Password:** `postgres`
*   **Database:** `merch_crm`

---

## üîê 6. –°–µ–∫—Ä–µ—Ç—ã –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
*   **JWT_SECRET_KEY:** `hsksfnsuslssd;dcsnjmm`

---

## ü§ñ 7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (GitHub Actions & Deploy)
–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã Repository Secrets –¥–ª—è GitHub Actions. 

**–ü—Ä–∞–≤–∏–ª–æ –¥–µ–ø–ª–æ—è:**
*   –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `git push` –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞ –Ω–∞ GitHub, AI –æ–±—è–∑–∞–Ω **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Ä–∫—Ñ–ª–æ—É `/deploy_production` –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
*   **–ö–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—è:** `ssh -i ~/.ssh/antigravity_key root@89.104.69.25 "cd /root/merch-crm && docker compose up -d --build"`

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ Repository Secrets:
*   **SERVER_IP:** `89.104.69.25`
*   **SERVER_USER:** `root`
*   **SSH_PRIVATE_KEY:** –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `~/.ssh/id_ed25519` (–¥–ª—è GitHub)

–ö–ª—é—á –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Deploy Key –Ω–∞ GitHub):
`ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBaAK7RxvEW9kUAu3QB4CVbMW+0OdILoV0Li3J1oNmwx root@cv5812811.novalocal`

---

## üîë 6. –î–æ—Å—Ç—É–ø—ã –≤ CRM (–î–ª—è AI)
*   **URL:** [https://merch-crm.ru/login](https://merch-crm.ru/login)
*   **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:** `agent@antigravity.ai`
*   **–ü–∞—Ä–æ–ª—å:** `Antigravity`

---

## üõ† 7. –ö–æ–º–∞–Ω–¥—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (–ü–∞–º—è—Ç–∫–∞)
*   **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –≤—Ä—É—á–Ω—É—é:** `docker compose up -d --build`
*   **–õ–æ–≥–∏ —Å–∞–π—Ç–∞:** `docker logs -f merch-crm`
*   **–ë—ç–∫–∞–ø –±–∞–∑—ã:** `docker exec merch-crm-db pg_dump -U postgres merch_crm > backup.sql`

---

## üõ† 8. –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Development Standards)
### 8.1. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
*   **–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any`**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ `any` –≤ –∫–æ–¥–µ TypeScript –∫–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–ª–∏ —Ç–∏–ø—ã. 
    *   *–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:* –ö—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –±–µ–∑ —Ç–∏–ø–æ–≤ (—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º `// @ts-expect-error` –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º).
*   **–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞**: –ù–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞.
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `error as Error`) –≤ –±–ª–æ–∫–∞—Ö `catch`.

